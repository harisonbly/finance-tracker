<!DOCTYPE html>
<html>
<head><title>Dashboard</title></head>
<body>
  <h2>Dashboard</h2>
  <button onclick="logout()">Logout</button>
  <form onsubmit="event.preventDefault(); addTransactionForm();">
    <input type="number" id="amount" placeholder="Amount" />
    <select id="type"><option>income</option><option>expense</option></select>
    <input type="text" id="category" placeholder="Category" />
    <input type="text" id="note" placeholder="Note" />
    <button type="submit">Add</button>
  </form>
  <div id="transactions"><table border="1" width="100%">
  <thead>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Note</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="transactions"></tbody>
</table>    
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="js/supabaseClient.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/dashboard.js"></script>
  <script>
function renderTransactions(data) {
  const container = document.getElementById("transactions");
  container.innerHTML = "";
  data.forEach(t => {
    const div = document.createElement("div");
    div.innerHTML = `
      ${t.type.toUpperCase()}: â‚¹${t.amount} (${t.category}) - ${t.note}
      <button onclick="editTransaction('${t.id}', ${t.amount}, '${t.type}', '${t.category}', '${t.note}')">âœï¸ Edit</button>
      <button onclick="deleteTransaction('${t.id}')">ğŸ—‘ï¸ Delete</button>
    `;
    container.appendChild(div);
  });
}
</script>
</body>
</html>
